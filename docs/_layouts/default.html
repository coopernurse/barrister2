<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Performance: Preconnect to external origins -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>

  <!-- Performance: Defer non-critical CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/styles.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">

  <!-- Performance: Defer JavaScript loading -->
  <script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js" defer crossorigin="anonymous"></script>

  {% include custom/head.html %}

  <!-- Performance: Preload critical resources -->
  <link rel="preload" href="{{ '/assets/js/mobile-menu.js' | relative_url }}" as="script">
  <link rel="preload" href="{{ '/assets/js/search.js' | relative_url }}" as="script">
</head>
<body data-baseurl="{{ site.baseurl }}">
  <!-- Skip to main content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  {% include header.html %}
  <main id="main-content" tabindex="-1">
    {% include custom/breadcrumbs.html %}
    {{ content }}
  </main>
  {% include custom/footer.html %}

  <!-- Performance: Defer all JavaScript -->
  <script src="{{ '/assets/js/code-copy.js' | relative_url }}" defer></script>
  <script src="{{ '/assets/js/mobile-menu.js' | relative_url }}" defer></script>
  <script src="{{ '/assets/js/search.js' | relative_url }}" defer></script>
</body>
</html>
