function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,n;function r(){if(n)return t;function e(e,t,n,r,a,i){return{tag:e,key:t,attrs:n,children:r,text:a,dom:i,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return n=1,e.normalize=function(t){return Array.isArray(t)?e("[",void 0,void 0,e.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:e("#",void 0,void 0,String(t),void 0,void 0)},e.normalizeChildren=function(t){for(var n=new Array(t.length),r=0,a=0;a<t.length;a++)n[a]=e.normalize(t[a]),null!==n[a]&&null!=n[a].key&&r++;if(0!==r&&r!==t.length)throw new TypeError(n.includes(null)?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");return n},t=e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a=r(),i=function(e,t){return null==e||"object"==typeof e&&null==e.tag&&!Array.isArray(e)?1===t.length&&Array.isArray(t[0])&&(t=t[0]):(t=0===t.length&&Array.isArray(e)?e:[e,...t],e=void 0),a("",e&&e.key,e,t)},o={}.hasOwnProperty,s={},l=new Map([[s,!0]]),c=r(),d=i,u=o,g=s,f=l,m=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,p=Object.create(null);function h(e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e}function b(e){for(var t,n="div",r=[],a={},i=!0;t=m.exec(e);){var o=t[1],s=t[2];if(""===o&&""!==s)n=s;else if("#"===o)a.id=s;else if("."===o)r.push(s);else if("["===t[3][0]){var l=t[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(l):(a[t[4]]=""===l?l:l||!0,h(t[4])&&(i=!1))}}return r.length>0&&(a.className=r.join(" ")),!function(e){for(var t in e)if(u.call(e,t))return!1;return!0}(a)?f.set(a,i):a=g,p[e]={tag:n,attrs:a,is:a.is}}var v=function(e,t,...n){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var r=d(t,n);return"string"==typeof e&&(r.children=c.normalizeChildren(r.children),"["!==e)?function(e,t){t.tag=e.tag;var n=t.attrs;if(null==n)return t.attrs=e.attrs,t.is=e.is,t;if(u.call(n,"class")&&(null!=n.class&&(n.className=n.class),n.class=null),e.attrs!==g){var r=n.className;n=Object.assign({},e.attrs,n),null!=e.attrs.className&&(n.className=null!=r?String(e.attrs.className)+" "+String(r):e.attrs.className)}return"input"===e.tag&&u.call(n,"type")&&(n=Object.assign({type:n.type},n)),t.is=n.is,t.attrs=n,t}(p[e]||b(e),r):(null==r.attrs&&(r.attrs={}),r.tag=e,r)},y=r(),w=r(),E=i,_=v;_.trust=function(e){return null==e&&(e=""),y("<",void 0,void 0,e,void 0,void 0)},_.fragment=function(e,...t){var n=E(e,t);return null==n.attrs&&(n.attrs={}),n.tag="[",n.children=w.normalizeChildren(n.children),n};var k,x,N=_,S=new WeakMap;function O(){if(x)return k;x=1;var e=S;return k=function*(t){var n=t.dom,r=t.domSize,a=e.get(n);if(null!=n)do{var i=n.nextSibling;e.get(n)===a&&(yield n,r--),n=i}while(r)}}var M,A,C,T,I=r(),R=S,L=O(),D=l,j=function(){var e,t,n={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function r(e){return e.ownerDocument}function a(e){return e.attrs&&e.attrs.xmlns||n[e.tag]}function i(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function o(e){var t=e.state;try{return this.apply(t,arguments)}finally{i(e,t)}}function s(e){try{return r(e).activeElement}catch(t){return null}}function l(e,t,n,r,a,i,o){for(var s=n;s<r;s++){var l=t[s];null!=l&&c(e,l,a,o,i)}}function c(e,t,n,i,s){var d=t.tag;if("string"==typeof d)switch(t.state={},null!=t.attrs&&$(t.attrs,t,n),d){case"#":!function(e,t,n){t.dom=r(e).createTextNode(t.children),y(e,t.dom,n)}(e,t,s);break;case"<":u(e,t,i,s);break;case"[":!function(e,t,n,a,i){var o=r(e).createDocumentFragment();if(null!=t.children){var s=t.children;l(o,s,0,s.length,n,null,a)}t.dom=o.firstChild,t.domSize=o.childNodes.length,y(e,o,i)}(e,t,n,i,s);break;default:!function(e,t,n,i,o){var s=t.tag,c=t.attrs,d=t.is;i=a(t)||i;var u=i?d?r(e).createElementNS(i,s,{is:d}):r(e).createElementNS(i,s):d?r(e).createElement(s,{is:d}):r(e).createElement(s);t.dom=u,null!=c&&function(e,t,n){for(var r in t)O(e,r,null,t[r],n)}(t,c,i);if(y(e,u,o),!w(t)&&null!=t.children){var g=t.children;l(u,g,0,g.length,n,null,i),"select"===t.tag&&null!=c&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&O(e,"selectedIndex",null,t.selectedIndex,void 0)}(t,c)}}(e,t,n,i,s)}else!function(e,t,n,r,a){(function(e,t){var n;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(n=e.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}$(e.state,e,t),null!=e.attrs&&$(e.attrs,e,t);if(e.instance=I.normalize(o.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(t,n),null!=t.instance?(c(e,t.instance,n,r,a),t.dom=t.instance.dom,t.domSize=t.instance.domSize):t.domSize=0}(e,t,n,i,s)}var d={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function u(e,t,n,a){var i=t.children.match(/^\s*?<(\w+)/im)||[],o=r(e).createElement(d[i[1]]||"div");"http://www.w3.org/2000/svg"===n?(o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",o=o.firstChild):o.innerHTML=t.children,t.dom=o.firstChild,t.domSize=o.childNodes.length;for(var s,l=r(e).createDocumentFragment();s=o.firstChild;)l.appendChild(s);y(e,l,a)}function g(e,t,n,r,a,i){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)l(e,n,0,n.length,r,a,i);else if(null==n||0===n.length)E(e,t,0,t.length);else{var o=null!=t[0]&&null!=t[0].key,s=null!=n[0]&&null!=n[0].key,d=0,u=0;if(!o)for(;u<t.length&&null==t[u];)u++;if(!s)for(;d<n.length&&null==n[d];)d++;if(o!==s)E(e,t,u,t.length),l(e,n,d,n.length,r,a,i);else if(s){for(var g,p,y,w,_,k=t.length-1,N=n.length-1;k>=u&&N>=d&&(y=t[k],w=n[N],y.key===w.key);)y!==w&&f(e,y,w,r,a,i),null!=w.dom&&(a=w.dom),k--,N--;for(;k>=u&&N>=d&&(g=t[u],p=n[d],g.key===p.key);)u++,d++,g!==p&&f(e,g,p,r,b(t,u,a),i);for(;k>=u&&N>=d&&d!==N&&g.key===w.key&&y.key===p.key;)v(e,y,_=b(t,u,a)),y!==p&&f(e,y,p,r,_,i),++d<=--N&&v(e,g,a),g!==w&&f(e,g,w,r,a,i),null!=w.dom&&(a=w.dom),u++,y=t[--k],w=n[N],g=t[u],p=n[d];for(;k>=u&&N>=d&&y.key===w.key;)y!==w&&f(e,y,w,r,a,i),null!=w.dom&&(a=w.dom),N--,y=t[--k],w=n[N];if(d>N)E(e,t,u,k+1);else if(u>k)l(e,n,d,N+1,r,a,i);else{var S,O,M=a,A=N-d+1,C=new Array(A),T=0,I=0,R=2147483647,L=0;for(I=0;I<A;I++)C[I]=-1;for(I=N;I>=d;I--){null==S&&(S=m(t,u,k+1));var D=S[(w=n[I]).key];null!=D&&(R=D<R?D:-1,C[I-d]=D,y=t[D],t[D]=null,y!==w&&f(e,y,w,r,a,i),null!=w.dom&&(a=w.dom),L++)}if(a=M,L!==k-u+1&&E(e,t,u,k+1),0===L)l(e,n,d,N+1,r,a,i);else if(-1===R)for(O=function(e){var t=[0],n=0,r=0,a=0,i=h.length=e.length;for(a=0;a<i;a++)h[a]=e[a];for(a=0;a<i;++a)if(-1!==e[a]){var o=t[t.length-1];if(e[o]<e[a])h[a]=o,t.push(a);else{for(n=0,r=t.length-1;n<r;){var s=(n>>>1)+(r>>>1)+(n&r&1);e[t[s]]<e[a]?n=s+1:r=s}e[a]<e[t[n]]&&(n>0&&(h[a]=t[n-1]),t[n]=a)}}n=t.length,r=t[n-1];for(;n-- >0;)t[n]=r,r=h[r];return h.length=0,t}(C),T=O.length-1,I=N;I>=d;I--)p=n[I],-1===C[I-d]?c(e,p,r,i,a):O[T]===I-d?T--:v(e,p,a),null!=p.dom&&(a=n[I].dom);else for(I=N;I>=d;I--)p=n[I],-1===C[I-d]&&c(e,p,r,i,a),null!=p.dom&&(a=n[I].dom)}}else{var j=t.length<n.length?t.length:n.length;for(d=d<u?d:u;d<j;d++)(g=t[d])===(p=n[d])||null==g&&null==p||(null==g?c(e,p,r,i,b(t,d+1,a)):null==p?x(e,g):f(e,g,p,r,b(t,d+1,a),i));t.length>j&&E(e,t,d,t.length),n.length>j&&l(e,n,d,n.length,r,a,i)}}}function f(e,t,n,r,i,s){var l=t.tag;if(l===n.tag&&t.is===n.is){if(n.state=t.state,n.events=t.events,function(e,t){do{var n;if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate)if(void 0!==(n=o.call(e.attrs.onbeforeupdate,e,t))&&!n)break;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate)if(void 0!==(n=o.call(e.state.onbeforeupdate,e,t))&&!n)break;return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}(n,t))return;if("string"==typeof l)switch(null!=n.attrs&&B(n.attrs,n,r),l){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(t,n);break;case"<":!function(e,t,n,r,a){t.children!==n.children?(N(e,t),u(e,n,r,a)):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,s,i);break;case"[":!function(e,t,n,r,a,i){g(e,t.children,n.children,r,a,i);var o=0,s=n.children;if(n.dom=null,null!=s)for(var l=0;l<s.length;l++){var c=s[l];null!=c&&null!=c.dom&&(null==n.dom&&(n.dom=c.dom),o+=c.domSize||1)}n.domSize=o}(e,t,n,r,i,s);break;default:!function(e,t,n,r){var i=t.dom=e.dom;r=a(t)||r,(e.attrs!=t.attrs||null!=t.attrs&&!D.get(t.attrs))&&function(e,t,n,r){var a;if(null!=t)for(var i in t===n&&D.has(n),t)null==(a=t[i])||null!=n&&null!=n[i]||M(e,i,a,r);if(null!=n)for(var i in n)O(e,i,t&&t[i],n[i],r)}(t,e.attrs,t.attrs,r);w(t)||g(i,e.children,t.children,n,null,r)}(t,n,r,s)}else!function(e,t,n,r,a,i){if(n.instance=I.normalize(o.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");B(n.state,n,r),null!=n.attrs&&B(n.attrs,n,r);null!=n.instance?(null==t.instance?c(e,n.instance,r,i,a):f(e,t.instance,n.instance,r,a,i),n.dom=n.instance.dom,n.domSize=n.instance.domSize):(null!=t.instance&&x(e,t.instance),n.domSize=0)}(e,t,n,r,i,s)}else x(e,t),c(e,n,r,s,i)}function m(e,t,n){for(var r=Object.create(null);t<n;t++){var a=e[t];if(null!=a){var i=a.key;null!=i&&(r[i]=t)}}return r}var p,h=[];function b(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function v(e,t,n){if(null!=t.dom){var a;if(null==t.domSize||1===t.domSize)a=t.dom;else for(var i of(a=r(e).createDocumentFragment(),L(t)))a.appendChild(i);y(e,a,n)}}function y(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function w(e){if(null==e.attrs||null==e.attrs.contenteditable&&null==e.attrs.contentEditable)return!1;var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function E(e,t,n,r){for(var a=n;a<r;a++){var i=t[a];null!=i&&x(e,i)}}function _(e,n,r,a){var s=n.state,l=o.call(r.onbeforeremove,n);if(null!=l){var c=t;for(var d of L(n))R.set(d,c);a.v++,Promise.resolve(l).finally(function(){i(n,s),k(e,n,a)})}}function k(e,t,n){0===--n.v&&(S(t),N(e,t))}function x(e,t){var n={v:1};"string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&_(e,t,t.state,n),t.attrs&&"function"==typeof t.attrs.onbeforeremove&&_(e,t,t.attrs,n),k(e,t,n)}function N(e,t){if(null!=t.dom)if(null==t.domSize||1===t.domSize)e.removeChild(t.dom);else for(var n of L(t))e.removeChild(n)}function S(e){if("string"!=typeof e.tag&&"function"==typeof e.state.onremove&&o.call(e.state.onremove,e),e.attrs&&"function"==typeof e.attrs.onremove&&o.call(e.attrs.onremove,e),"string"!=typeof e.tag)null!=e.instance&&S(e.instance);else{null!=e.events&&(e.events._=null);var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];null!=r&&S(r)}}}function O(e,t,n,r,a){if("key"!==t&&null!=r&&!A(t)&&(n!==r||function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&(e.dom===s(e.dom)||"option"===e.tag&&e.dom.parentNode===s(e.dom))}(e,t)||"object"==typeof r)){if("o"===t[0]&&"n"===t[1])return z(e,t,r);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),r);else if("style"===t)T(e.dom,n,r);else if(C(e,t,a)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+r)return;if("select"===e.tag&&null!==n&&e.dom.value===""+r)return;if("option"===e.tag&&null!==n&&e.dom.value===""+r)return;if("input"===e.tag&&"file"===e.attrs.type&&""+r!="")return}"input"===e.tag&&"type"===t?e.dom.setAttribute(t,r):e.dom[t]=r}else"boolean"==typeof r?r?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,r)}}function M(e,t,n,r){if("key"!==t&&null!=n&&!A(t))if("o"===t[0]&&"n"===t[1])z(e,t,void 0);else if("style"===t)T(e.dom,n,null);else if(!C(e,t,r)||"className"===t||"title"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===s(e.dom))||"input"===e.tag&&"type"===t){var a=t.indexOf(":");-1!==a&&(t=t.slice(a+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null}function A(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function C(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||e.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}function T(e,t,n){if(t===n);else if(null==n)e.style="";else if("object"!=typeof n)e.style=n;else if(null==t||"object"!=typeof t)for(var r in e.style="",n){null!=(a=n[r])&&(r.includes("-")?e.style.setProperty(r,String(a)):e.style[r]=String(a))}else{for(var r in t)null!=t[r]&&null==n[r]&&(r.includes("-")?e.style.removeProperty(r):e.style[r]="");for(var r in n){var a;null!=(a=n[r])&&(a=String(a))!==String(t[r])&&(r.includes("-")?e.style.setProperty(r,a):e.style[r]=a)}}}function j(){this._=e}function z(t,n,r){if(null!=t.events){if(t.events._=e,t.events[n]===r)return;null==r||"function"!=typeof r&&"object"!=typeof r?(null!=t.events[n]&&t.dom.removeEventListener(n.slice(2),t.events,!1),t.events[n]=void 0):(null==t.events[n]&&t.dom.addEventListener(n.slice(2),t.events,!1),t.events[n]=r)}else null==r||"function"!=typeof r&&"object"!=typeof r||(t.events=new j,t.dom.addEventListener(n.slice(2),t.events,!1),t.events[n]=r)}function $(e,t,n){"function"==typeof e.oninit&&o.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(o.bind(e.oncreate,t))}function B(e,t,n){"function"==typeof e.onupdate&&n.push(o.bind(e.onupdate,t))}return j.prototype=Object.create(null),j.prototype.handleEvent=function(e){var t,n=this["on"+e.type];"function"==typeof n?t=n.call(e.currentTarget,e):"function"==typeof n.handleEvent&&n.handleEvent(e);var r=this;null!=r._&&(!1!==e.redraw&&(0,r._)(),null!=t&&"function"==typeof t.then&&Promise.resolve(t).then(function(){null!=r._&&!1!==e.redraw&&(0,r._)()})),!1===t&&(e.preventDefault(),e.stopPropagation())},function(n,r,a){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(null!=p&&n.contains(p))throw new TypeError("Node is currently being rendered to and thus is locked.");var i=e,o=p,l=[],c=s(n),d=n.namespaceURI;p=n,e="function"==typeof a?a:void 0,t={};try{null==n.vnodes&&(n.textContent=""),r=I.normalizeChildren(Array.isArray(r)?r:[r]),g(n,n.vnodes,r,l,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),n.vnodes=r,null!=c&&s(n)!==c&&"function"==typeof c.focus&&c.focus();for(var u=0;u<l.length;u++)l[u]()}finally{e=i,p=o}}}(),z=r(),$=function(e,t,n){var r=[],a=!1,i=-1;function o(){for(i=0;i<r.length;i+=2)try{e(r[i],z(r[i+1]),s)}catch(t){n.error(t)}i=-1}function s(){a||(a=!0,t(function(){a=!1,o()}))}return s.sync=o,{mount:function(t,n){if(null!=n&&null==n.view&&"function"!=typeof n)throw new TypeError("m.mount expects a component, not a vnode.");var a=r.indexOf(t);a>=0&&(r.splice(a,2),a<=i&&(i-=2),e(t,[])),null!=n&&(r.push(t,n),e(t,z(n),s))},redraw:s}}(j,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null);function B(){return A?M:(A=1,M=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var a=0;a<n.length;a++)r(e+"["+a+"]",n[a]);else if("[object Object]"===Object.prototype.toString.call(n))for(var a in n)r(e+"["+a+"]",n[a]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}})}function P(){if(T)return C;T=1;var e=B();return C=function(t,n){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==n)return t;var r=t.indexOf("?"),a=t.indexOf("#"),i=a<0?t.length:a,o=r<0?i:r,s=t.slice(0,o),l={};Object.assign(l,n);var c=s.replace(/:([^\/\.-]+)(\.{3})?/g,function(e,t,r){return delete l[t],null==n[t]?e:r?n[t]:encodeURIComponent(String(n[t]))}),d=c.indexOf("?"),u=c.indexOf("#"),g=u<0?c.length:u,f=d<0?g:d,m=c.slice(0,f);r>=0&&(m+=t.slice(r,i)),d>=0&&(m+=(r<0?"?":"&")+c.slice(d,g));var p=e(l);return p&&(m+=(r<0&&d<0?"?":"&")+p),a>=0&&(m+=t.slice(a)),u>=0&&(m+=(a<0?"":"&")+c.slice(u)),m}}var U,F,H,K,V=P(),G=o,Z=function(e,t){function n(e){return new Promise(e)}function r(e,t){for(var n in e.headers)if(G.call(e.headers,n)&&n.toLowerCase()===t)return!0;return!1}return n.prototype=Promise.prototype,n.__proto__=Promise,{request:function(a,i){"string"!=typeof a?(i=a,a=a.url):null==i&&(i={});var o=function(t,n){return new Promise(function(a,i){t=V(t,n.params);var o,s=null!=n.method?n.method.toUpperCase():"GET",l=n.body,c=(null==n.serialize||n.serialize===JSON.serialize)&&!(l instanceof e.FormData||l instanceof e.URLSearchParams),d=n.responseType||("function"==typeof n.extract?"":"json"),u=new e.XMLHttpRequest,g=!1,f=!1,m=u,p=u.abort;for(var h in u.abort=function(){g=!0,p.call(this)},u.open(s,t,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),c&&null!=l&&!r(n,"content-type")&&u.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||r(n,"accept")||u.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(u.withCredentials=n.withCredentials),n.timeout&&(u.timeout=n.timeout),u.responseType=d,n.headers)G.call(n.headers,h)&&u.setRequestHeader(h,n.headers[h]);u.onreadystatechange=function(e){if(!g&&4===e.target.readyState)try{var r,o=e.target.status>=200&&e.target.status<300||304===e.target.status||/^file:\/\//i.test(t),s=e.target.response;if("json"===d){if(!e.target.responseType&&"function"!=typeof n.extract)try{s=JSON.parse(e.target.responseText)}catch(m){s=null}}else d&&"text"!==d||null==s&&(s=e.target.responseText);if("function"==typeof n.extract?(s=n.extract(e.target,n),o=!0):"function"==typeof n.deserialize&&(s=n.deserialize(s)),o){if("function"==typeof n.type)if(Array.isArray(s))for(var l=0;l<s.length;l++)s[l]=new n.type(s[l]);else s=new n.type(s);a(s)}else{var c=function(){try{r=e.target.responseText}catch(m){r=s}var t=new Error(r);t.code=e.target.status,t.response=s,i(t)};0===u.status?setTimeout(function(){f||c()}):c()}}catch(m){i(m)}},u.ontimeout=function(e){f=!0;var t=new Error("Request timed out");t.code=e.target.status,i(t)},"function"==typeof n.config&&(u=n.config(u,n,t)||u)!==m&&(o=u.abort,u.abort=function(){g=!0,o.call(this)}),null==l?u.send():"function"==typeof n.serialize?u.send(n.serialize(l)):l instanceof e.FormData||l instanceof e.URLSearchParams?u.send(l):u.send(JSON.stringify(l))})}(a,i);if(!0===i.background)return o;var s=0;function l(){0===--s&&"function"==typeof t&&t()}return function e(t){var r=t.then;return t.constructor=n,t.then=function(){s++;var n=r.apply(t,arguments);return n.then(l,function(e){if(l(),0===s)throw e}),e(n)},t}(o)}}}("undefined"!=typeof window?window:null,$.redraw),q=/%(?:[0-7]|(?!c[01]|e0%[89]|ed%[ab]|f0%8|f4%[9ab])(?:c|d|(?:e|f[0-4]%[89ab])[\da-f]%[89ab])[\da-f]%[89ab])[\da-f]/gi,J=function(e){return String(e).replace(q,decodeURIComponent)};function X(){if(F)return U;F=1;var e=J;return U=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var n=t.split("&"),r={},a={},i=0;i<n.length;i++){var o=n[i].split("="),s=e(o[0]),l=2===o.length?e(o[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var c=s.split(/\]\[?|\[/),d=a;s.indexOf("[")>-1&&c.pop();for(var u=0;u<c.length;u++){var g=c[u],f=c[u+1],m=""==f||!isNaN(parseInt(f,10));if(""===g)null==r[s=c.slice(0,u).join()]&&(r[s]=Array.isArray(d)?d.length:0),g=r[s]++;else if("__proto__"===g)break;if(u===c.length-1)d[g]=l;else{var p=Object.getOwnPropertyDescriptor(d,g);null!=p&&(p=p.value),null==p&&(d[g]=p=m?[]:{}),d=p}}}return a}}function W(){if(K)return H;K=1;var e=X();return H=function(t){var n=t.indexOf("?"),r=t.indexOf("#"),a=r<0?t.length:r,i=n<0?a:n,o=t.slice(0,i).replace(/\/{2,}/g,"/");return o?"/"!==o[0]&&(o="/"+o):o="/",{path:o,params:n<0?{}:e(t.slice(n+1,a))}}}var Q,Y,ee=W();function te(){if(Y)return Q;Y=1;var e=o,t=/^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$/;return Q=function(n,r){var a={};if(null!=r)for(var i in n)e.call(n,i)&&!t.test(i)&&r.indexOf(i)<0&&(a[i]=n[i]);else for(var i in n)e.call(n,i)&&!t.test(i)&&(a[i]=n[i]);return a}}var ne=r(),re=v,ae=J,ie=P(),oe=W(),se=function(e){var t=ee(e),n=Object.keys(t.params),r=[],a=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(e,t,n){return null==t?"\\"+e:(r.push({k:t,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))})+"\\/?$");return function(e){for(var i=0;i<n.length;i++)if(t.params[n[i]]!==e.params[n[i]])return!1;if(!r.length)return a.test(e.path);var o=a.exec(e.path);if(null==o)return!1;for(i=0;i<r.length;i++)e.params[r[i].k]=r[i].r?o[i+1]:decodeURIComponent(o[i+1]);return!0}},le=te(),ce=function(e,t){var n,r,a,i,o,s,l,c,d=Promise.resolve(),u=!1,g=!1,f=!1,m={onremove:function(){g=f=!1,e.removeEventListener("popstate",b,!1)},view:function(){var e=ne(o,s.key,s);return i?i.render(e):[e]}},p=v.SKIP={};function h(){u=!1;var g=e.location.hash;"#"!==v.prefix[0]&&(g=e.location.search+g,"?"!==v.prefix[0]&&"/"!==(g=e.location.pathname+g)[0]&&(g="/"+g));var h=ae(g).slice(v.prefix.length),b=oe(h);function y(e){v.set(a,null,{replace:!0})}Object.assign(b.params,e.history.state),function e(u){for(;u<r.length;u++)if(r[u].check(b)){var g=r[u].component,w=r[u].route,E=g,_=c=function(r){if(_===c){if(r===p)return e(u+1);o=null==r||"function"!=typeof r.view&&"function"!=typeof r?"div":r,s=b.params,l=h,c=null,i=g.render?g:null,f?t.redraw():(f=!0,t.mount(n,m))}};return void(g.view||"function"==typeof g?(g={},_(E)):g.onmatch?d.then(function(){return g.onmatch(b.params,h,w)}).then(_,h===a?null:y):_())}if(h===a)throw new Error("Could not resolve default route "+a+".");v.set(a,null,{replace:!0})}(0)}function b(){u||(u=!0,setTimeout(h))}function v(t,i,o){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(r=Object.keys(o).map(function(e){if("/"!==e[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:o[e],check:se(e)}}),a=i,null!=i){var s=oe(i);if(!r.some(function(e){return e.check(s)}))throw new ReferenceError("Default route doesn't match any known routes.")}n=t,e.addEventListener("popstate",b,!1),g=!0,h()}return v.set=function(t,n,r){if(null!=c&&((r=r||{}).replace=!0),c=null,t=ie(t,n),g){b();var a=r?r.state:null,i=r?r.title:null;r&&r.replace?e.history.replaceState(a,i,v.prefix+t):e.history.pushState(a,i,v.prefix+t)}else e.location.href=v.prefix+t},v.get=function(){return l},v.prefix="#!",v.Link={view:function(e){var t,n,r,a=re(e.attrs.selector||"a",le(e.attrs,["options","params","selector","onclick"]),e.children);return(a.attrs.disabled=Boolean(a.attrs.disabled))?(a.attrs.href=null,a.attrs["aria-disabled"]="true"):(t=e.attrs.options,n=e.attrs.onclick,r=ie(a.attrs.href,e.attrs.params),a.attrs.href=v.prefix+r,a.attrs.onclick=function(e){var a;"function"==typeof n?a=n.call(e.currentTarget,e):null==n||"object"!=typeof n||"function"==typeof n.handleEvent&&n.handleEvent(e),!1===a||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,v.set(r,null,t))}),a}},v.param=function(e){return s&&null!=e?s[e]:s},v}("undefined"!=typeof window?window:null,$),de=N,ue=$,ge=Z,fe=ce,me=function(){return de.apply(this,arguments)};me.m=de,me.trust=de.trust,me.fragment=de.fragment,me.Fragment="[",me.mount=ue.mount,me.route=fe,me.render=j,me.redraw=ue.redraw,me.request=ge.request,me.parseQueryString=X(),me.buildQueryString=B(),me.parsePathname=W(),me.buildPathname=P(),me.vnode=r(),me.censor=te(),me.domFor=O();const pe=e(me),he="barrister_endpoints";function be(){try{const e=localStorage.getItem(he);if(!e)return[];return JSON.parse(e).sort((e,t)=>new Date(t.lastUsed)-new Date(e.lastUsed))}catch(e){return[]}}const ve="/api/proxy";function ye(e,t){if(t.structs.has(e))return t.structs.get(e);const n=e.split(".").pop();for(const[r,a]of t.structs)if(r===n||r.endsWith("."+n))return a;return null}function we(e,t){const n=ye(e,t);if(!n)return[];const r=[];if(n.extends){const e=we(n.extends,t);r.push(...e)}return n.fields&&r.push(...n.fields),r}function Ee(e){return e?e.builtIn?{kind:"builtin",type:e.builtIn}:e.array?{kind:"array",elementType:Ee(e.array)}:e.mapValue?{kind:"map",valueType:Ee(e.mapValue)}:e.userDefined?{kind:"userDefined",name:e.userDefined}:{kind:"unknown"}:{kind:"unknown"}}const _e={newEndpointUrl:"",adding:!1,discovering:!1,oninit(){this.endpoints=be()},view(e){const t=e.attrs.currentEndpoint;return pe("div.sidebar",[pe("h5.mb-3","Endpoints"),pe("div.mb-3",[pe("div.input-group",[pe("input.form-control.form-control-sm[type=text][placeholder=Endpoint URL]",{value:this.newEndpointUrl,oninput:e=>{this.newEndpointUrl=e.target.value},onkeypress:t=>{"Enter"===t.key&&this.handleAddEndpoint(e)},disabled:this.adding||this.discovering}),pe("button.btn.btn-primary.btn-sm",{onclick:()=>this.handleAddEndpoint(e),disabled:this.adding||this.discovering||!this.newEndpointUrl.trim()},this.adding?"Adding...":"+")]),this.discovering&&pe("div.small.text-muted.mt-1",[pe("span.spinner-border.spinner-border-sm[role=status]",{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem",display:"inline-block"}}),"Loading..."])]),pe("div.list-group",0===this.endpoints.length?[pe("div.list-group-item.text-muted.text-center","No endpoints yet")]:this.endpoints.map(n=>pe("div.list-group-item",{class:t===n.url?"active":"",onclick:()=>{t!==n.url&&this.handleSelectEndpoint(n.url,e)}},[pe("div.d-flex.justify-content-between.align-items-center",[pe("div.flex-grow-1",[pe("div.fw-bold",n.url),pe("small.text-muted",new Date(n.lastUsed).toLocaleString())]),pe("button.btn.btn-sm.btn-outline-danger",{onclick:t=>{t.stopPropagation(),this.handleRemoveEndpoint(n.url,e)}},"×")])])))])},async handleAddEndpoint(e){const t=this.newEndpointUrl.trim();if(t){this.adding=!0,pe.redraw();try{!function(e){try{const t=be(),n=t.findIndex(t=>t.url===e),r={url:e,lastUsed:(new Date).toISOString()};return n>=0?t[n]=r:t.push(r),localStorage.setItem(he,JSON.stringify(t)),!0}catch(t){return!1}}(t),this.endpoints=be(),this.newEndpointUrl="",await this.handleSelectEndpoint(t,e)}catch(n){alert("Failed to add endpoint: "+n.message)}finally{this.adding=!1,pe.redraw()}}},async handleSelectEndpoint(e,t){const{onEndpointSelect:n}=t.attrs;this.discovering=!0,pe.redraw();try{const t=await async function(e){const t={jsonrpc:"2.0",method:"barrister-idl",id:1};try{const n=await fetch(ve,{method:"POST",headers:{"Content-Type":"application/json","X-Target-Endpoint":e},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error: ${n.status} ${n.statusText}`);const r=await n.json();if(r.error)throw new Error(`RPC error: ${r.error.message||"Unknown error"}`);if(!r.result)throw new Error("No IDL result in response");return r.result}catch(n){throw new Error(`Failed to discover IDL: ${n.message}`)}}(e),r=function(e){const t={structs:new Map,enums:new Map,interfaces:new Map};if(e.structs)for(const n of e.structs)t.structs.set(n.name,n);if(e.enums)for(const n of e.enums)t.enums.set(n.name,n);if(e.interfaces)for(const n of e.interfaces)t.interfaces.set(n.name,n);return t}(t);n&&n(e,t,r)}catch(r){alert("Failed to discover IDL: "+r.message)}finally{this.discovering=!1,pe.redraw()}},handleRemoveEndpoint(e,t){if(confirm("Remove this endpoint?")&&(function(e){try{const t=be().filter(t=>t.url!==e);return localStorage.setItem(he,JSON.stringify(t)),!0}catch(t){return!1}}(e),this.endpoints=be(),t.attrs.currentEndpoint===e)){const{onEndpointSelect:e}=t.attrs;e&&e(null,null,null)}}},ke={expandedInterfaces:new Set,lastIdl:null,oninit(e){this.updateExpandedInterfaces(e)},onbeforeupdate(e){return e.attrs.idl!==this.lastIdl&&(this.lastIdl=e.attrs.idl,this.updateExpandedInterfaces(e)),!0},updateExpandedInterfaces(e){this.expandedInterfaces.clear(),e.attrs.idl&&e.attrs.idl.interfaces&&e.attrs.idl.interfaces.length>0&&this.expandedInterfaces.add(e.attrs.idl.interfaces[0].name)},view(e){const{idl:t,onMethodSelect:n}=e.attrs;return t&&t.interfaces?pe("div",[pe("h5.mb-3","Interfaces & Methods"),t.interfaces.map(e=>pe("div.mb-3",{key:e.name},[pe("div.d-flex.align-items-center.mb-2",[pe("h6.mb-0.flex-grow-1",e.name),pe("button.btn.btn-sm.btn-outline-secondary",{onclick:()=>{this.expandedInterfaces.has(e.name)?this.expandedInterfaces.delete(e.name):this.expandedInterfaces.add(e.name),pe.redraw()}},this.expandedInterfaces.has(e.name)?"−":"+")]),e.comment&&pe("p.small.text-muted.mb-2",e.comment),this.expandedInterfaces.has(e.name)&&e.methods&&e.methods.map(t=>pe("div.list-group-item.mb-2.method-item",{key:e.name+"."+t.name,style:{cursor:"pointer"},onclick:()=>{n&&n(e,t)}},[pe("div.method-content",[pe("div.fw-bold",t.name),t.comment&&pe("div.small.text-muted.mt-1",t.comment),pe("div.small.mt-1",[pe("span.text-muted","Params: "),t.parameters&&t.parameters.length>0?t.parameters.map((e,t)=>[t>0&&", ",pe("code",e.name+": "+this.formatType(e.type))]):pe("span.text-muted","none")]),pe("div.small.mt-1",[pe("span.text-muted","Response: "),pe("code",this.formatType(t.returnType))])])]))]))]):pe("div.card",[pe("div.card-body",[pe("p.text-muted","No interfaces found in IDL")])])},formatType(e){return e?e.builtIn?e.builtIn:e.array?"[]"+this.formatType(e.array):e.mapValue?"map[string]"+this.formatType(e.mapValue):e.userDefined?e.userDefined:"unknown":"void"}},xe={view(e){const{type:t,value:n,onchange:r,registry:a,optional:i=!1,path:o=""}=e.attrs;if(!t)return pe("div.text-muted","No type specified");const s=Ee(t);if(i&&null==n)return pe("div.type-input-container",[pe("div.form-check",[pe("input.form-check-input[type=checkbox]",{checked:null!=n,onchange:e=>{if(e.target.checked){const e=this.getDefaultValue(t,a);r(e)}else r(null)}}),pe("label.form-check-label","Include (optional)")])]);switch(s.kind){case"builtin":return this.renderBuiltin(s.type,n,r,o);case"array":return this.renderArray(s.elementType,t.array,n,r,a,o);case"map":return this.renderMap(s.valueType,t.mapValue,n,r,a,o);case"userDefined":return this.renderUserDefined(s.name,n,r,a,o);default:return pe("div.text-danger","Unknown type: "+JSON.stringify(t))}},renderBuiltin(e,t,n,r){const a=r||"input-"+Math.random().toString(36).substr(2,9);switch(e){case"string":return pe("input.form-control[type=text]",{id:a,value:t||"",oninput:e=>n(e.target.value),placeholder:"Enter string"});case"int":return pe("input.form-control[type=number][step=1]",{id:a,value:null!=t?t:"",oninput:e=>{const t=e.target.value;n(""===t?null:parseInt(t,10))},placeholder:"Enter integer"});case"float":return pe("input.form-control[type=number][step=any]",{id:a,value:null!=t?t:"",oninput:e=>{const t=e.target.value;n(""===t?null:parseFloat(t))},placeholder:"Enter number"});case"bool":return pe("div.form-check",[pe("input.form-check-input[type=checkbox]",{id:a,checked:!0===t,onchange:e=>n(e.target.checked)}),pe("label.form-check-label",{for:a},"True")]);default:return pe("div.text-danger","Unknown builtin type: "+e)}},renderArray(e,t,n,r,a,i){const o=n||[];return pe("div.type-input-container",[pe("div.d-flex.justify-content-between.align-items-center.mb-2",[pe("strong","Array"),pe("button.btn.btn-sm.btn-primary",{onclick:()=>{const e=this.getDefaultValue(t,a);r([...o,e])}},"+ Add Item")]),o.map((e,n)=>pe("div.array-item",{key:i+"["+n+"]"},[pe("div.flex-grow-1",pe(xe,{type:t,value:e,onchange:e=>{const t=[...o];t[n]=e,r(t)},registry:a,path:i+"["+n+"]"})),pe("button.btn.btn-sm.btn-outline-danger",{onclick:()=>{const e=o.filter((e,t)=>t!==n);r(e)}},"−")])),0===o.length&&pe("div.text-muted.small",'No items. Click "+ Add Item" to add one.')])},renderMap(e,t,n,r,a,i){const o=n||{},s=Object.entries(o);return pe("div.type-input-container",[pe("div.d-flex.justify-content-between.align-items-center.mb-2",[pe("strong","Map"),pe("button.btn.btn-sm.btn-primary",{onclick:()=>{const e="",n=this.getDefaultValue(t,a);r({...o,[e]:n})}},"+ Add Entry")]),s.map(([e,n])=>pe("div.map-item",{key:i+"."+e},[pe("input.form-control[type=text][placeholder=Key]",{value:e,oninput:t=>{const a=t.target.value,i={...o};delete i[e],i[a]=n,r(i)}}),pe("div.flex-grow-1",pe(xe,{type:t,value:n,onchange:t=>{r({...o,[e]:t})},registry:a,path:i+"."+e})),pe("button.btn.btn-sm.btn-outline-danger",{onclick:()=>{const t={...o};delete t[e],r(t)}},"−")])),0===s.length&&pe("div.text-muted.small",'No entries. Click "+ Add Entry" to add one.')])},renderUserDefined(e,t,n,r,a){const i=ye(e,r);if(i)return this.renderStruct(i,t,n,r,a);const o=function(e,t){if(t.enums.has(e))return t.enums.get(e);const n=e.split(".").pop();for(const[r,a]of t.enums)if(r===n||r.endsWith("."+n))return a;return null}(e,r);return o?this.renderEnum(o,t,n):pe("div.text-warning","Unknown user-defined type: "+e)},renderStruct(e,t,n,r,a){const i=we(e.name,r),o=t||{};return pe("div.type-input-container.nested",[pe("div.mb-2",[pe("strong",e.name),e.comment&&pe("div.small.text-muted",e.comment)]),i.map(e=>{const t=a?a+"."+e.name:e.name;return pe("div.mb-2",[pe("label.form-label.small",[e.name,e.optional&&pe("span.text-muted"," (optional)"),e.comment&&pe("span.text-muted.ml-1","// "+e.comment)]),pe(xe,{type:e.type,value:o[e.name],onchange:t=>{n({...o,[e.name]:t})},registry:r,optional:e.optional,path:t})])})])},renderEnum:(e,t,n)=>pe("select.form-select",{value:t||"",onchange:e=>n(e.target.value||null)},[pe("option[value=]","-- Select --"),...e.values.map(e=>pe("option[value="+e.name+"]",e.name))]),getDefaultValue(e,t){if(!e)return null;const n=Ee(e);switch(n.kind){case"builtin":switch(n.type){case"string":return"";case"int":case"float":return 0;case"bool":return!1;default:return null}case"array":return[];case"map":return{};case"userDefined":{const e=ye(n.name,t);if(e){const n=we(e.name,t),r={};return n.forEach(e=>{e.optional||(r[e.name]=this.getDefaultValue(e.type,t))}),r}return null}default:return null}}},Ne={formValues:{},oninit(e){const{method:t}=e.attrs;t&&(this.lastMethodName=t.name),this.initializeForm(e)},onupdate(e){const t=e.attrs.method;t&&t.name!==this.lastMethodName&&(this.initializeForm(e),this.lastMethodName=t.name)},initializeForm(e){const{method:t}=e.attrs;t&&t.parameters?(this.formValues||(this.formValues={}),Object.keys(this.formValues).forEach(e=>{t.parameters.find(t=>t.name===e)||delete this.formValues[e]}),t.parameters.forEach(e=>{this.formValues[e.name]=null}),e.attrs.onFormChange&&e.attrs.onFormChange(this.formValues)):this.formValues?Object.keys(this.formValues).forEach(e=>delete this.formValues[e]):this.formValues={}},view(e){const{method:t,typeRegistry:n,onSubmit:r}=e.attrs;return t?pe("div.card.mb-3",[pe("div.card-header",[pe("h5.mb-0",t.name),t.comment&&pe("div.small.text-muted.mt-1",t.comment)]),pe("div.card-body",[t.parameters&&t.parameters.length>0?[t.parameters.map(t=>pe("div.mb-3",[pe("label.form-label",[pe("strong",t.name),pe("span.text-muted.ml-2"," - "+this.formatType(t.type)),t.comment&&pe("div.small.text-muted.mt-1",t.comment)]),pe(xe,{type:t.type,value:this.formValues[t.name],onchange:n=>{this.formValues[t.name]=n,e.attrs.onFormChange&&e.attrs.onFormChange(this.formValues)},registry:n,path:t.name})])),pe("div.mt-4",[pe("button.btn.btn-primary",{onclick:()=>{r&&r(this.formValues)}},"Call Method")])]:[pe("p.text-muted","This method has no parameters."),pe("button.btn.btn-primary",{onclick:()=>{r&&r({})}},"Call Method")]])]):null},formatType(e){return e?e.builtIn?e.builtIn:e.array?"[]"+this.formatType(e.array):e.mapValue?"map[string]"+this.formatType(e.mapValue):e.userDefined?e.userDefined:"unknown":"void"},getDefaultValue(e){if(!e)return null;if(e.builtIn)switch(e.builtIn){case"string":return"";case"int":case"float":return 0;case"bool":return!1;default:return null}return e.array?[]:e.mapValue?{}:(e.userDefined,null)}};function Se(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;"object"!==r&&"function"!==r||Object.isFrozen(n)||Se(n)}),e}class Oe{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Me(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ae(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(e){for(const t in e)n[t]=e[t]}),n}const Ce=e=>!!e.scope;class Te{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=Me(e)}openNode(e){if(!Ce(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){Ce(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Ie=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class Re{constructor(){this.rootNode=Ie(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=Ie({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{Re._collapse(e)}))}}class Le extends Re{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new Te(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function De(e){return e?"string"==typeof e?e:e.source:null}function je(e){return Be("(?=",e,")")}function ze(e){return Be("(?:",e,")*")}function $e(e){return Be("(?:",e,")?")}function Be(...e){return e.map(e=>De(e)).join("")}function Pe(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map(e=>De(e)).join("|")+")"}function Ue(e){return new RegExp(e.toString()+"|").exec("").length-1}const Fe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function He(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let r=De(e),a="";for(;r.length>0;){const e=Fe.exec(r);if(!e){a+=r;break}a+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?a+="\\"+String(Number(e[1])+t):(a+=e[0],"("===e[0]&&n++)}return a}).map(e=>`(${e})`).join(t)}const Ke="[a-zA-Z]\\w*",Ve="[a-zA-Z_]\\w*",Ge="\\b\\d+(\\.\\d+)?",Ze="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",qe="\\b(0b[01]+)",Je={begin:"\\\\[\\s\\S]",relevance:0},Xe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Je]},We={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Je]},Qe=function(e,t,n={}){const r=Ae({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const a=Pe("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Be(/[ ]+/,"(",a,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},Ye=Qe("//","$"),et=Qe("/\\*","\\*/"),tt=Qe("#","$"),nt={scope:"number",begin:Ge,relevance:0},rt={scope:"number",begin:Ze,relevance:0},at={scope:"number",begin:qe,relevance:0},it={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Je,{begin:/\[/,end:/\]/,relevance:0,contains:[Je]}]},ot={scope:"title",begin:Ke,relevance:0},st={scope:"title",begin:Ve,relevance:0},lt={begin:"\\.\\s*"+Ve,relevance:0};var ct=Object.freeze({__proto__:null,APOS_STRING_MODE:Xe,BACKSLASH_ESCAPE:Je,BINARY_NUMBER_MODE:at,BINARY_NUMBER_RE:qe,COMMENT:Qe,C_BLOCK_COMMENT_MODE:et,C_LINE_COMMENT_MODE:Ye,C_NUMBER_MODE:rt,C_NUMBER_RE:Ze,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:tt,IDENT_RE:Ke,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:lt,NUMBER_MODE:nt,NUMBER_RE:Ge,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:We,REGEXP_MODE:it,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Be(t,/.*\b/,e.binary,/\b.*/)),Ae({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:ot,UNDERSCORE_IDENT_RE:Ve,UNDERSCORE_TITLE_MODE:st});function dt(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function ut(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function gt(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=dt,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function ft(e,t){Array.isArray(e.illegal)&&(e.illegal=Pe(...e.illegal))}function mt(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function pt(e,t){void 0===e.relevance&&(e.relevance=1)}const ht=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=Be(n.beforeMatch,je(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},bt=["of","and","for","in","not","or","if","then","parent","list","value"];function vt(e,t,n="keyword"){const r=Object.create(null);return"string"==typeof e?a(n,e.split(" ")):Array.isArray(e)?a(n,e):Object.keys(e).forEach(function(n){Object.assign(r,vt(e[n],t,n))}),r;function a(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach(function(t){const n=t.split("|");r[n[0]]=[e,yt(n[0],n[1])]})}}function yt(e,t){return t?Number(t):function(e){return bt.includes(e.toLowerCase())}(e)?0:1}const wt={},Et=(e,t)=>{wt[`${e}/${t}`]||(wt[`${e}/${t}`]=!0)},_t=new Error;function kt(e,t,{key:n}){let r=0;const a=e[n],i={},o={};for(let s=1;s<=t.length;s++)o[s+r]=a[s],i[s+r]=!0,r+=Ue(t[s-1]);e[n]=o,e[n]._emit=i,e[n]._multi=!0}function xt(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw _t;if("object"!=typeof e.beginScope||null===e.beginScope)throw _t;kt(e,e.begin,{key:"beginScope"}),e.begin=He(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw _t;if("object"!=typeof e.endScope||null===e.endScope)throw _t;kt(e,e.end,{key:"endScope"}),e.end=He(e.end,{joinWith:""})}}(e)}function Nt(e){function t(t,n){return new RegExp(De(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=Ue(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(He(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Ae(e.classNameAliases||{}),function n(a,i){const o=a;if(a.isCompiled)return o;[ut,mt,xt,ht].forEach(e=>e(a,i)),e.compilerExtensions.forEach(e=>e(a,i)),a.__beforeBegin=null,[gt,ft,pt].forEach(e=>e(a,i)),a.isCompiled=!0;let s=null;return"object"==typeof a.keywords&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),s=a.keywords.$pattern,delete a.keywords.$pattern),s=s||/\w+/,a.keywords&&(a.keywords=vt(a.keywords,e.case_insensitive)),o.keywordPatternRe=t(s,!0),i&&(a.begin||(a.begin=/\B|\b/),o.beginRe=t(o.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(o.endRe=t(o.end)),o.terminatorEnd=De(o.end)||"",a.endsWithParent&&i.terminatorEnd&&(o.terminatorEnd+=(a.end?"|":"")+i.terminatorEnd)),a.illegal&&(o.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Ae(e,{variants:null},t)}));if(e.cachedVariants)return e.cachedVariants;if(St(e))return Ae(e,{starts:e.starts?Ae(e.starts):null});if(Object.isFrozen(e))return Ae(e);return e}("self"===e?a:e)})),a.contains.forEach(function(e){n(e,o)}),a.starts&&n(a.starts,i),o.matcher=function(e){const t=new r;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(o),o}(e)}function St(e){return!!e&&(e.endsWithParent||St(e.starts))}class Ot extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const Mt=Me,At=Ae,Ct=Symbol("nomatch"),Tt=function(e){const t=Object.create(null),n=Object.create(null),r=[];let a=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Le};function l(e){return s.noHighlightRe.test(e)}function c(e,t,n){let r="",a="";"object"==typeof t?(r=e,n=t.ignoreIllegals,a=t.language):(Et("10.7.0","highlight(lang, code, ...args) has been deprecated."),Et("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),a=e,r=t),void 0===n&&(n=!0);const i={code:r,language:a};v("before:highlight",i);const o=i.result?i.result:d(i.language,i.code,n);return o.code=i.code,v("after:highlight",o),o}function d(e,n,r,o){const l=Object.create(null);function c(e,t){return e.keywords[t]}function g(){if(!S.keywords)return void M.addText(A);let e=0;S.keywordPatternRe.lastIndex=0;let t=S.keywordPatternRe.exec(A),n="";for(;t;){n+=A.substring(e,t.index);const r=k.case_insensitive?t[0].toLowerCase():t[0],a=c(S,r);if(a){const[e,i]=a;if(M.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=7&&(C+=i),e.startsWith("_"))n+=t[0];else{const n=k.classNameAliases[e]||e;m(t[0],n)}}else n+=t[0];e=S.keywordPatternRe.lastIndex,t=S.keywordPatternRe.exec(A)}n+=A.substring(e),M.addText(n)}function f(){null!=S.subLanguage?function(){if(""===A)return;let e=null;if("string"==typeof S.subLanguage){if(!t[S.subLanguage])return void M.addText(A);e=d(S.subLanguage,A,!0,O[S.subLanguage]),O[S.subLanguage]=e._top}else e=u(A,S.subLanguage.length?S.subLanguage:null);S.relevance>0&&(C+=e.relevance),M.__addSublanguage(e._emitter,e.language)}():g(),A=""}function m(e,t){""!==e&&(M.startScope(t),M.addText(e),M.endScope())}function h(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=k.classNameAliases[e[n]]||e[n],a=t[n];r?m(a,r):(A=a,g(),A=""),n++}}function b(e,t){return e.scope&&"string"==typeof e.scope&&M.openNode(k.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(m(A,k.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),A=""):e.beginScope._multi&&(h(e.beginScope,t),A="")),S=Object.create(e,{parent:{value:S}}),S}function v(e,t,n){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(r){if(e["on:end"]){const n=new Oe(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return v(e.parent,t,n)}function y(e){return 0===S.matcher.regexIndex?(A+=e[0],1):(R=!0,0)}function w(e){const t=e[0],r=n.substring(e.index),a=v(S,e,r);if(!a)return Ct;const i=S;S.endScope&&S.endScope._wrap?(f(),m(t,S.endScope._wrap)):S.endScope&&S.endScope._multi?(f(),h(S.endScope,e)):i.skip?A+=t:(i.returnEnd||i.excludeEnd||(A+=t),f(),i.excludeEnd&&(A=t));do{S.scope&&M.closeNode(),S.skip||S.subLanguage||(C+=S.relevance),S=S.parent}while(S!==a.parent);return a.starts&&b(a.starts,e),i.returnEnd?0:t.length}let E={};function _(t,i){const o=i&&i[0];if(A+=t,null==o)return f(),0;if("begin"===E.type&&"end"===i.type&&E.index===i.index&&""===o){if(A+=n.slice(i.index,i.index+1),!a){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=E.rule,t}return 1}if(E=i,"begin"===i.type)return function(e){const t=e[0],n=e.rule,r=new Oe(n),a=[n.__beforeBegin,n["on:begin"]];for(const i of a)if(i&&(i(e,r),r.isMatchIgnored))return y(t);return n.skip?A+=t:(n.excludeBegin&&(A+=t),f(),n.returnBegin||n.excludeBegin||(A=t)),b(n,e),n.returnBegin?0:t.length}(i);if("illegal"===i.type&&!r){const e=new Error('Illegal lexeme "'+o+'" for mode "'+(S.scope||"<unnamed>")+'"');throw e.mode=S,e}if("end"===i.type){const e=w(i);if(e!==Ct)return e}if("illegal"===i.type&&""===o)return A+="\n",1;if(I>1e5&&I>3*i.index){throw new Error("potential infinite loop, way more iterations than matches")}return A+=o,o.length}const k=p(e);if(!k)throw i.replace("{}",e),new Error('Unknown language: "'+e+'"');const x=Nt(k);let N="",S=o||x;const O={},M=new s.__emitter(s);!function(){const e=[];for(let t=S;t!==k;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>M.openNode(e))}();let A="",C=0,T=0,I=0,R=!1;try{if(k.__emitTokens)k.__emitTokens(n,M);else{for(S.matcher.considerAll();;){I++,R?R=!1:S.matcher.considerAll(),S.matcher.lastIndex=T;const e=S.matcher.exec(n);if(!e)break;const t=_(n.substring(T,e.index),e);T=e.index+t}_(n.substring(T))}return M.finalize(),N=M.toHTML(),{language:e,value:N,relevance:C,illegal:!1,_emitter:M,_top:S}}catch(L){if(L.message&&L.message.includes("Illegal"))return{language:e,value:Mt(n),illegal:!0,relevance:0,_illegalBy:{message:L.message,index:T,context:n.slice(T-100,T+100),mode:L.mode,resultSoFar:N},_emitter:M};if(a)return{language:e,value:Mt(n),illegal:!1,relevance:0,errorRaised:L,_emitter:M,_top:S};throw L}}function u(e,n){n=n||s.languages||Object.keys(t);const r=function(e){const t={value:Mt(e),illegal:!1,relevance:0,_top:o,_emitter:new s.__emitter(s)};return t._emitter.addText(e),t}(e),a=n.filter(p).filter(b).map(t=>d(t,e,!1));a.unshift(r);const i=a.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(p(e.language).supersetOf===t.language)return 1;if(p(t.language).supersetOf===e.language)return-1}return 0}),[l,c]=i,u=l;return u.secondBest=c,u}function g(e){let t=null;const r=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=s.languageDetectRe.exec(t);if(n){const e=p(n[1]);return e||i.replace("{}",n[1]),e?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>l(e)||p(e))}(e);if(l(r))return;if(v("before:highlightElement",{el:e,language:r}),e.dataset.highlighted)return;if(e.children.length>0&&(s.ignoreUnescapedHTML,s.throwUnescapedHTML)){throw new Ot("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const a=t.textContent,o=r?c(a,{language:r,ignoreIllegals:!0}):u(a);e.innerHTML=o.value,e.dataset.highlighted="yes",function(e,t,r){const a=t&&n[t]||r;e.classList.add("hljs"),e.classList.add(`language-${a}`)}(e,r,o.language),e.result={language:o.language,re:o.relevance,relevance:o.relevance},o.secondBest&&(e.secondBest={language:o.secondBest.language,relevance:o.secondBest.relevance}),v("after:highlightElement",{el:e,result:o,text:a})}let f=!1;function m(){if("loading"===document.readyState)return f||window.addEventListener("DOMContentLoaded",function(){m()},!1),void(f=!0);document.querySelectorAll(s.cssSelector).forEach(g)}function p(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function h(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{n[e.toLowerCase()]=t})}function b(e){const t=p(e);return t&&!t.disableAutodetect}function v(e,t){const n=e;r.forEach(function(e){e[n]&&e[n](t)})}Object.assign(e,{highlight:c,highlightAuto:u,highlightAll:m,highlightElement:g,highlightBlock:function(e){return Et("10.7.0","highlightBlock will be removed entirely in v12.0"),Et("10.7.0","Please use highlightElement now."),g(e)},configure:function(e){s=At(s,e)},initHighlighting:()=>{m(),Et("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){m(),Et("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let i=null;try{i=r(e)}catch(s){if("Language definition for '{}' could not be registered.".replace("{}",n),!a)throw s;i=o}i.name||(i.name=n),t[n]=i,i.rawDefinition=r.bind(null,e),i.aliases&&h(i.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:p,registerAliases:h,autoDetection:b,inherit:At,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),r.push(e)},removePlugin:function(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}),e.debugMode=function(){a=!1},e.safeMode=function(){a=!0},e.versionString="11.11.1",e.regex={concat:Be,lookahead:je,either:Pe,optional:$e,anyNumberOfTimes:ze};for(const y in ct)"object"==typeof ct[y]&&Se(ct[y]);return Object.assign(e,ct),e},It=Tt({});It.newInstance=()=>Tt({});var Rt=It;It.HighlightJS=It,It.default=It;const Lt=e(Rt);function Dt(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}Lt.registerLanguage("json",Dt);const jt={activeTab:"response",parentVnode:null,view(e){const{request:t,response:n}=e.attrs;return this.parentVnode=e,t||n?pe("div.card",[pe("div.card-header",[pe("ul.nav.nav-tabs.card-header-tabs",[pe("li.nav-item",[pe("a.nav-link",{class:"request"===this.activeTab?"active":"",href:"#",onclick:e=>{e.preventDefault(),this.activeTab="request",pe.redraw()}},"Request")]),pe("li.nav-item",[pe("a.nav-link",{class:"response"===this.activeTab?"active":"",href:"#",onclick:e=>{e.preventDefault(),this.activeTab="response",pe.redraw()}},"Response")])])]),pe("div.card-body",[pe("div.json-viewer-container",{key:"viewer-"+this.activeTab+"-"+(t&&t.id?t.id:"no-req")+"-"+(n&&n.id?n.id:"no-res"),oncreate:t=>{this.containerVnode=t,this.renderJsonViewer(t,e.attrs)},onupdate:e=>{this.containerVnode=e,this.renderJsonViewer(e,this.parentVnode.attrs)}})])]):null},renderJsonViewer(e,t){if(!e||!e.dom)return;const{request:n,response:r}=t||{},a="request"===this.activeTab?n:r;if(a)if(window.customElements&&window.customElements.get("andypf-json-viewer"))try{for(;e.dom.firstChild;)e.dom.removeChild(e.dom.firstChild);const t=document.createElement("andypf-json-viewer");t.setAttribute("data",JSON.stringify(a)),t.setAttribute("expanded","2"),t.setAttribute("indent","2"),t.setAttribute("show-data-types","true"),t.setAttribute("show-copy","true"),t.setAttribute("show-size","false"),t.setAttribute("theme","default-light"),e.dom.appendChild(t)}catch(i){this.renderFallback(e,a)}else this.renderFallback(e,a);else e.dom.innerHTML='<p class="text-muted">No data available</p>'},renderFallback(e,t){try{const n=JSON.stringify(t,null,2),r=document.createElement("pre");r.className="mb-0 hljs-json-wrapper";const a=document.createElement("code");a.className="language-json",a.textContent=n,r.appendChild(a),e.dom.innerHTML="",e.dom.appendChild(r),Lt.highlightElement(a)}catch(n){e.dom.innerHTML='<p class="text-danger">Failed to format JSON: '+this.escapeHtml(n.message)+"</p>"}},escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}},zt={currentEndpoint:null,idl:null,typeRegistry:null,selectedInterface:null,selectedMethod:null,formValues:{},requestJson:null,responseJson:null,loading:!1,error:null,sidebarWidth:parseInt(localStorage.getItem("barrister-sidebar-width"))||300,sidebarSplitterPosition:parseFloat(localStorage.getItem("barrister-sidebar-splitter-position"))||.4,draggingHorizontal:!1,draggingVertical:!1},$t={handleHorizontalMouseDown(e){e.preventDefault(),zt.draggingHorizontal=!0,document.addEventListener("mousemove",$t.handleHorizontalMouseMove),document.addEventListener("mouseup",$t.handleHorizontalMouseUp),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},handleHorizontalMouseMove(e){if(!zt.draggingHorizontal)return;const t=Math.max(200,Math.min(600,e.clientX));zt.sidebarWidth=t,localStorage.setItem("barrister-sidebar-width",t.toString()),pe.redraw()},handleHorizontalMouseUp(){zt.draggingHorizontal=!1,document.removeEventListener("mousemove",$t.handleHorizontalMouseMove),document.removeEventListener("mouseup",$t.handleHorizontalMouseUp),document.body.style.cursor="",document.body.style.userSelect=""},handleVerticalMouseDown(e){e.preventDefault(),zt.draggingVertical=!0,document.addEventListener("mousemove",$t.handleVerticalMouseMove),document.addEventListener("mouseup",$t.handleVerticalMouseUp),document.body.style.cursor="row-resize",document.body.style.userSelect="none"},handleVerticalMouseMove(e){if(!zt.draggingVertical)return;const t=document.querySelector(".sidebar-container");if(!t)return;const n=t.getBoundingClientRect(),r=e.clientY-n.top,a=n.height,i=Math.max(.2,Math.min(.8,r/a));zt.sidebarSplitterPosition=i,localStorage.setItem("barrister-sidebar-splitter-position",i.toString()),pe.redraw()},handleVerticalMouseUp(){zt.draggingVertical=!1,document.removeEventListener("mousemove",$t.handleVerticalMouseMove),document.removeEventListener("mouseup",$t.handleVerticalMouseUp),document.body.style.cursor="",document.body.style.userSelect=""}},Bt={oninit(){},view(){const e=`calc(100% - ${zt.sidebarWidth+5}px)`,t=100*zt.sidebarSplitterPosition+"%",n=100*(1-zt.sidebarSplitterPosition)+"%";return pe("div.container-fluid",{style:{height:"100vh",display:"flex",padding:0,overflow:"hidden"}},[pe("div.sidebar-container",{style:{width:`${zt.sidebarWidth}px`,display:"flex",flexDirection:"column",backgroundColor:"#fff",borderRight:"1px solid #dee2e6",overflow:"hidden"}},[pe("div.sidebar-section",{style:{height:t,overflowY:"auto",padding:"1rem"}},[pe(_e,{currentEndpoint:zt.currentEndpoint,onEndpointSelect:(e,t,n)=>{zt.currentEndpoint=e,zt.idl=t,zt.typeRegistry=n,zt.selectedInterface=null,zt.selectedMethod=null,zt.formValues={},zt.requestJson=null,zt.responseJson=null,zt.error=null}})]),zt.currentEndpoint&&zt.idl?pe("div.splitter-vertical",{style:{height:"5px",backgroundColor:"#dee2e6",cursor:"row-resize",flexShrink:0},onmousedown:$t.handleVerticalMouseDown}):null,zt.currentEndpoint&&zt.idl?pe("div.sidebar-section",{style:{height:n,overflowY:"auto",padding:"1rem"}},[pe(ke,{idl:zt.idl,typeRegistry:zt.typeRegistry,onMethodSelect:(e,t)=>{zt.selectedInterface=e,zt.selectedMethod=t,zt.formValues={},zt.requestJson=null,zt.responseJson=null,zt.error=null}})]):null]),pe("div.splitter-horizontal",{style:{width:"5px",backgroundColor:"#dee2e6",cursor:"col-resize",flexShrink:0},onmousedown:$t.handleHorizontalMouseDown}),pe("div.main-content",{style:{width:e,overflowY:"auto",padding:"1rem"}},[zt.selectedMethod?[pe(Ne,{method:zt.selectedMethod,typeRegistry:zt.typeRegistry,formValues:zt.formValues,onFormChange:e=>{zt.formValues=e},onSubmit:async e=>{zt.loading=!0,zt.error=null,pe.redraw();const t=zt.selectedMethod.parameters?zt.selectedMethod.parameters.map(t=>e[t.name]):[];zt.requestJson={jsonrpc:"2.0",method:`${zt.selectedInterface.name}.${zt.selectedMethod.name}`,params:t,id:Date.now()};try{const e=await async function(e,t,n,r){const a={jsonrpc:"2.0",method:`${t}.${n}`,params:r,id:Date.now()};try{const t=await fetch(ve,{method:"POST",headers:{"Content-Type":"application/json","X-Target-Endpoint":e},body:JSON.stringify(a)});if(!t.ok)throw new Error(`HTTP error: ${t.status} ${t.statusText}`);return await t.json()}catch(i){throw new Error(`RPC call failed: ${i.message}`)}}(zt.currentEndpoint,zt.selectedInterface.name,zt.selectedMethod.name,t);zt.responseJson=e}catch(n){zt.error=n.message,zt.responseJson={error:{code:-1,message:n.message}}}finally{zt.loading=!1,pe.redraw()}}}),zt.loading?pe("div.card.mt-3",[pe("div.card-header","Request / Response"),pe("div.card-body.text-center",[pe("div.spinner-border[role=status]",[pe("span.visually-hidden","Loading...")]),pe("p.mt-2","Calling method...")])]):zt.requestJson||zt.responseJson?pe(jt,{request:zt.requestJson,response:zt.responseJson}):null,zt.error&&pe("div.alert.alert-danger.mt-3",zt.error)]:zt.currentEndpoint?[zt.idl?null:pe("div.card",[pe("div.card-body",[pe("h5","Discovering IDL..."),pe("div.spinner-border.spinner-border-sm[role=status]",[pe("span.visually-hidden","Loading...")])])])]:[pe("div.card",[pe("div.card-body",[pe("h5","Select an endpoint"),pe("p.text-muted","Choose an endpoint from the sidebar or add a new one to get started.")])])]])])}},Pt={oncreate:e=>{e.dom.textarea=e.dom},view:({attrs:e})=>pe("div",{class:"editor-panel"},[pe("h3","IDL Editor"),pe("textarea",{value:e.idl,oninput:t=>{e.onChange&&e.onChange(t.target.value)},placeholder:"Enter your IDL here...",spellcheck:!1})])},Ut={view:({attrs:e})=>pe("div",{class:"controls"},[pe("label",{},["Language: ",pe("select",{value:e.runtime,onchange:t=>{e.onRuntimeChange&&e.onRuntimeChange(t.target.value)}},e.runtimes.map(e=>pe("option",{value:e},e)))]),pe("button",{onclick:e.onGenerate,disabled:e.loading},e.loading?"Generating...":"Generate"),e.sessionId?pe("button",{onclick:()=>{window.location.href=`/api/playground/zip/${e.sessionId}`}},"Download ZIP"):null])},Ft={view:({attrs:e})=>{if(!e.files||0===e.files.length)return pe("div",{class:"filetree-panel"},[pe("h3","Generated Files"),pe("p",{class:"empty"},'No files generated yet. Click "Generate" to create code.')]);const t=function(e){const t={};return e.forEach(e=>{const n=e.split("/");let r=t;n.forEach((e,t)=>{t===n.length-1?r[e]=null:(r[e]||(r[e]={}),r=r[e])})}),t}(e.files);return pe("div",{class:"filetree-panel"},[pe("h3","Generated Files"),pe("ul",{class:"filetree"},Ht(t,e.selectedFile,e.onSelectFile,""))])}};function Ht(e,t,n,r){const a=[];return Object.keys(e).sort().forEach(i=>{const o=r?`${r}/${i}`:i,s=o===t;null===e[i]?a.push(pe("li",{class:s?"selected":"",onclick:()=>n(o)},i)):a.push(pe("li",{class:"directory"},[pe("span",{class:"directory-name"},i+"/"),pe("ul",Ht(e[i],t,n,o))]))}),a}const Kt="[A-Za-z$_][0-9A-Za-z$_]*",Vt=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Gt=["true","false","null","undefined","NaN","Infinity"],Zt=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],qt=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Jt=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Xt=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Wt=[].concat(Jt,Zt,qt);function Qt(e){const t=e.regex,n=Kt,r="<>",a="</>",i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let a;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const i=e.input.substring(n);((a=i.match(/^\s*=/))||(a=i.match(/^\s+extends\s+/))&&0===a.index)&&t.ignoreMatch()}},o={$pattern:Kt,keyword:Vt,literal:Gt,built_in:Wt,"variable.language":Xt},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},u={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},g={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"xml"}},f={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"graphql"}},p={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,u]},h={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,f,m,p,{match:/\$\d+/},d];u.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const v=[].concat(h,u.contains),y=v.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(v)}]),w={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:y},E={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Zt,...qt]}},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/};const x={match:t.concat(/\b/,(N=[...Jt,"super","import"].map(e=>`${e}\\s*\\(`),t.concat("(?!",N.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var N;const S={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",A={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,f,m,p,h,{match:/\$\d+/},d,_,{scope:"attr",match:n+t.lookahead(":"),relevance:0},A,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[h,e.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:a},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},S,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},x,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},E,O,{match:/\$[(.]/}]}}var Yt="[0-9](_*[0-9])*",en=`\\.(${Yt})`,tn="[0-9a-fA-F](_*[0-9a-fA-F])*",nn={className:"number",variants:[{begin:`(\\b(${Yt})((${en})|\\.)?|(${en}))[eE][+-]?(${Yt})[fFdD]?\\b`},{begin:`\\b(${Yt})((${en})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${en})[fFdD]?\\b`},{begin:`\\b(${Yt})[fFdD]\\b`},{begin:`\\b0[xX]((${tn})\\.?|(${tn})?\\.(${tn}))[pP][+-]?(${Yt})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${tn})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function rn(e,t,n){return-1===n?"":e.replace(t,r=>rn(e,t,n-1))}const an="[A-Za-z$_][0-9A-Za-z$_]*",on=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],sn=["true","false","null","undefined","NaN","Infinity"],ln=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],cn=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],dn=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],un=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],gn=[].concat(dn,ln,cn);function fn(e){const t=e.regex,n=function(e){const t=e.regex,n=an,r="<>",a="</>",i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let a;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const i=e.input.substring(n);((a=i.match(/^\s*=/))||(a=i.match(/^\s+extends\s+/))&&0===a.index)&&t.ignoreMatch()}},o={$pattern:an,keyword:on,literal:sn,built_in:gn,"variable.language":un},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},u={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},g={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"xml"}},f={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"graphql"}},p={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,u]},h={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,f,m,p,{match:/\$\d+/},d];u.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const v=[].concat(h,u.contains),y=v.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(v)}]),w={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:y},E={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ln,...cn]}},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},x={match:t.concat(/\b/,(N=[...dn,"super","import"].map(e=>`${e}\\s*\\(`),t.concat("(?!",N.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var N;const S={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",A={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,f,m,p,h,{match:/\$\d+/},d,_,{scope:"attr",match:n+t.lookahead(":"),relevance:0},A,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[h,e.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:a},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},S,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},x,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},E,O,{match:/\$[(.]/}]}}(e),r=an,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},s={$pattern:an,keyword:on.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:sn,built_in:gn.concat(a),"variable.language":un},l={className:"meta",begin:"@"+r},c=(e,t,n)=>{const r=e.contains.findIndex(e=>e.label===t);if(-1===r)throw new Error("can not find mode to replace");e.contains.splice(r,1,n)};Object.assign(n.keywords,s),n.exports.PARAMS_CONTAINS.push(l);const d=n.contains.find(e=>"attr"===e.scope),u=Object.assign({},d,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,d,u]),n.contains=n.contains.concat([l,i,o,u]),c(n,"shebang",e.SHEBANG()),c(n,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/});return n.contains.find(e=>"func.def"===e.label).relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function mn(e){const t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},a={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},i=e.inherit(a,{illegal:/\n/}),o={className:"subst",begin:/\{/,end:/\}/,keywords:t},s=e.inherit(o,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,s]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},o]},d=e.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]});o.contains=[c,l,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],s.contains=[d,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const u={variants:[{className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},c,l,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},f=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",m={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},u,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,g,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,g,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+f+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,g],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[u,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},m]}}function pn(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(a,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,s,o,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,i,s,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function hn(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,a]};a.contains.push(s);const l={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},c=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),d={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[c,e.SHEBANG(),d,l,i,o,{match:/(\/[a-z._-]+)+/},s,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}}const bn=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],vn=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),yn=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),wn=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),En=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();Lt.registerLanguage("javascript",Qt),Lt.registerLanguage("js",Qt),Lt.registerLanguage("go",function(e){const t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}}),Lt.registerLanguage("java",function(e){const t=e.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=n+rn("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),a={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},i={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},o={className:"params",begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:a,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:a,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:[i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,nn,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},nn,i]}}),Lt.registerLanguage("python",function(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},i={className:"meta",begin:/^(>>>|\.\.\.) /},o={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i,s,o]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i,s,o]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,o]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,o]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",d=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,u=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${d}))[eE][+-]?(${c})[jJ]?(?=${u})`},{begin:`(${d})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${u})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${u})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${u})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${u})`},{begin:`\\b(${c})[jJ](?=${u})`}]},f={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},m={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",i,g,l,e.HASH_COMMENT_MODE]}]};return o.contains=[l,g,i],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[i,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},l,f,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[m]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,m,l]}]}}),Lt.registerLanguage("typescript",fn),Lt.registerLanguage("ts",fn),Lt.registerLanguage("csharp",mn),Lt.registerLanguage("cs",mn),Lt.registerLanguage("xml",pn),Lt.registerLanguage("html",pn),Lt.registerLanguage("json",Dt),Lt.registerLanguage("bash",hn),Lt.registerLanguage("sh",hn),Lt.registerLanguage("css",function(e){const t=e.regex,n=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+yn.join("|")+")"},{begin:":(:)?("+wn.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+En.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...r,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...r,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:vn.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...r,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+bn.join("|")+")\\b"}]}});const _n={".go":"go",".java":"java",".py":"python",".ts":"typescript",".tsx":"typescript",".js":"javascript",".cs":"csharp",".xml":"xml",".html":"xml",".json":"json",".sh":"bash",".css":"css",".yml":"yaml",".yaml":"yaml",".md":"markdown"};function kn(e){const t=e.substring(e.lastIndexOf("."));return _n[t]||"plaintext"}const xn={oncreate:e=>{if(e.attrs.file&&e.attrs.content){const t=e.dom.querySelector("code");if(t){const n=kn(e.attrs.file),r=Lt.highlight(e.attrs.content,{language:n});t.innerHTML=r.value,t.classList.add("hljs",`language-${n}`)}}},onupdate:e=>{if(e.attrs.file&&e.attrs.content){const t=e.dom.querySelector("code");if(t){const n=kn(e.attrs.file),r=Lt.highlight(e.attrs.content,{language:n});t.innerHTML=r.value,t.classList.add("hljs",`language-${n}`)}}},view:({attrs:e})=>e.file&&e.content?pe("div",{class:"codeviewer-panel"},[pe("h3",e.file),pe("pre",{class:"code"},[pe("code",e.content)])]):pe("div",{class:"codeviewer-panel"},[pe("h3","Code Viewer"),pe("p",{class:"empty"},"Select a file to view its contents.")])},Nn={view:({attrs:e})=>e.error?pe("div",{class:"error-panel"},[pe("strong","Error: "),e.error]):null},Sn={idl:"",runtime:"go-client-server",sessionId:null,files:[],selectedFile:null,fileContent:null,error:null,loading:!1},On=["go-client-server","java-client-server","python-client-server","ts-client-server","csharp-client-server"],Mn={oninit:e=>{const t=localStorage.getItem("barrister-idl");Sn.idl=t||"namespace example\n\nstruct SaveUserRequest {\n  firstName string\n  lastName string\n  email string [optional]\n  role UserRole\n}\n\nstruct SaveUserResponse {\n  userId string\n}\n\nenum UserRole {\n  admin\n  user\n  guest\n}\n\ninterface UserService {\n  save(input SaveUserRequest) SaveUserResponse\n}";const n=localStorage.getItem("barrister-runtime");n&&(Sn.runtime=n)},view:()=>pe("div",{class:"playground"},[pe(Nn,{error:Sn.error}),pe(Ut,{runtimes:On,runtime:Sn.runtime,onRuntimeChange:e=>{Sn.runtime=e},onGenerate:An,sessionId:Sn.sessionId,loading:Sn.loading}),pe("div",{class:"content"},[pe(Pt,{idl:Sn.idl,onChange:e=>{Sn.idl=e,localStorage.setItem("barrister-idl",e)}}),pe(Ft,{files:Sn.files,selectedFile:Sn.selectedFile,onSelectFile:async e=>{Sn.selectedFile=e,await async function(e,t){try{const n=await fetch(`/api/playground/files/${e}/${t}`);if(!n.ok)throw new Error("Failed to load file");const r=await n.text();Sn.fileContent=r}catch(n){Sn.error=n.message,Sn.fileContent=null}pe.redraw()}(Sn.sessionId,e)}}),pe(xn,{file:Sn.selectedFile,content:Sn.fileContent})])])};async function An(){Sn.loading=!0,Sn.error=null,pe.redraw();try{const e=await fetch("/api/playground/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idl:Sn.idl,runtime:Sn.runtime})});if(!e.ok){const t=await e.text();throw new Error(t)}const t=await e.json();Sn.sessionId=t.id,Sn.files=t.files,Sn.selectedFile=null,Sn.fileContent=null,localStorage.setItem("barrister-runtime",Sn.runtime)}catch(e){Sn.error=e.message,Sn.sessionId=null,Sn.files=[],Sn.selectedFile=null,Sn.fileContent=null}finally{Sn.loading=!1,pe.redraw()}}let Cn="playground";const Tn={view:()=>pe("div",{class:"app"},[pe("nav",{class:"mode-switcher"},[pe("button",{class:"client"===Cn?"active":"",onclick:()=>{Cn="client",pe.redraw()}},"Client"),pe("button",{class:"playground"===Cn?"active":"",onclick:()=>{Cn="playground",pe.redraw()}},"Playground")]),pe("client"===Cn?Bt:Mn)])};pe.mount(document.body,Tn);
